https://github.com/Izrekatel/web-larek-frontend

# Проектная работа "Веб-ларек"

Проект инетрнет-магазина в котором реализован функционал:
1. Обращение с API (запрос товаров и оформление покупки, обработка ответов)
2. Заполнение страницы по данным из ответа API.

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

# Документация

## Описание алгоритма работы

При загрузке страницы исполняется js код из src/index.ts в котором:
1. Создаются классы API (api), событий (events), состояния приложения (appData) и классы отображения (страницы, общего модального окна, наполнения для различных типов окон).
2. Производится получение списка товаров через API и после получения ответа происходит наполнение страницы товарами и присвоение слушателей для всех активных элементов страницы.
3. Назначаются слушатели событий, для обработки результатов действия пользователя.
4. При осуществлении пользователем действий формируется событие, на кторое срабатывает установленный слушатель (п. 3), после чего производятся предустановленные событием действия (открытие/закрытие модальных окон, отправка запроса на API и т.д.). Все изменеиня сохраняются в состоянии приложения.

## Описание основных классов

1. Api - класс для отправки и получения ответов от стороннего сервиса API 
2. EventEmitter - брокер событий, позволяющий назначить событие и зафиксировть действие, которое нужно осуществить при событии, эмитрировать событие (для запуска предусмотренного алгоритма).
3. AppState - класс состояния приложения - в этом классе сохраняется текущее состояние (данные апи, текущие дейтсвия пользователя), формируются данные для отображения на стрнанице и для отправки в API.
4. Классы отображений: Page (странциы), Modal (общего модального окна), Basket/Order/Contacts/Success - наполнение общего модального окна в соотвествии с дуйствиями пользователя.
Классы отображений принимают данные которые необходимо отобразить на странице и возвращают их в виде HTML-разметки. 


